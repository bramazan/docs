---
title: BIN Sorgulama API
description: Kart BIN numarası sorgulama ve bilgi alma
---

# BIN API

Kart BIN (Bank Identification Number) numaralarını sorgulama ve kart bilgilerini alma.

## BIN Sorgulama

### `GET /v1/bins/{binNumber}`

Bir kart BIN numarasının bilgilerini getirir.

```bash
GET /v1/bins/540061
Authorization: Bearer API_ANAHTARINIZ
```

#### Parametreler

| Parametre | Tip | Zorunlu | Açıklama |
|-----------|-----|---------|----------|
| `binNumber` | string | Evet | Kart BIN numarası (ilk 6-8 hane) |

#### Yanıt (200 OK)

```json
{
  "bin": "540061",
  "cardBrand": "Mastercard",
  "cardType": "Credit",
  "issuerBank": "Garanti Bankası",
  "country": "TR",
  "installmentsAvailable": true,
  "maxInstallments": 12,
  "commercialCard": false
}
```

#### Hata (404 Not Found)

```json
{
  "errorCode": "BIN_NOT_FOUND",
  "message": "BIN numarası bulunamadı"
}
```

---

## Kullanım Senaryoları

### 1. Kart Markası Tespiti

Ödeme formunda kart numarası girilirken, ilk 6 haneyi kullanarak kart markasını tespit edin:

```javascript
async function detectCardBrand(cardNumber) {
  const bin = cardNumber.substring(0, 6);
  
  const response = await fetch(`https://api.odeal.com.tr/v1/bins/${bin}`, {
    headers: {
      'Authorization': `Bearer ${API_KEY}`
    }
  });
  
  const binInfo = await response.json();
  return binInfo.cardBrand; // "Visa", "Mastercard", etc.
}
```

### 2. Taksit Seçeneklerini Gösterme

BIN bilgisinden taksit seçeneklerini belirleyin:

```javascript
async function getAvailableInstallments(cardNumber, amount) {
  const bin = cardNumber.substring(0, 6);
  
  const binInfo = await fetchBinInfo(bin);
  
  if (!binInfo.installmentsAvailable) {
    return [1]; // Sadece tek çekim
  }
  
  // Tutar bazlı taksit limitleri
  const maxInstallments = amount >= 1000 ? binInfo.maxInstallments : 6;
  
  return Array.from({length: maxInstallments}, (_, i) => i + 1);
}
```

---

## BIN Bilgileri

### Kart Markaları

| Marka | BIN Aralığı |
|-------|-------------|
| Visa | 4xxxxx |
| Mastercard | 51xxxx - 55xxxx, 2221xx - 2720xx |
| American Express | 34xxxx, 37xxxx |
| Troy | 9792xx |

### Kart Tipleri

- `Credit`: Kredi kartı
- `Debit`: Bankamat kartı
- `Prepaid`: Ön ödemeli kart

---

## Önbellekleme

BIN bilgileri sıklıkla değişmez, önbellekleme önerilir:

```javascript
const binCache = new Map();
const CACHE_TTL = 24 * 60 * 60 * 1000; // 24 saat

async function getCachedBinInfo(bin) {
  const cached = binCache.get(bin);
  
  if (cached && Date.now() - cached.timestamp < CACHE_TTL) {
    return cached.data;
  }
  
  const binInfo = await fetchBinInfo(bin);
  binCache.set(bin, {
    data: binInfo,
    timestamp: Date.now()
  });
  
  return binInfo;
}
```

---

## İlgili Kaynaklar

- [Taksit API](/api-reference/installments)
- [Ödeme API](/api-reference/payments)
